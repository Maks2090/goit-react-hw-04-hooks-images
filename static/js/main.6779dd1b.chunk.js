(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{26:function(e,t,a){},27:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),o=a.n(r),i=(a(26),a(10)),s=a(4),u=(a(27),a(9)),l=(a(29),a(1));function j(e){var t=e.onSubmitForm,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==r.trim()&&(t({image:r,page:1,hits:0}),o(""))},children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{value:r,onChange:function(e){o(e.target.value.toLowerCase())},className:"SearchForm-input",type:"text",autoFocus:!0,placeholder:"Search images and photos"})]})})}function m(e){var t=e.children;return Object(l.jsx)("ul",{className:"ImageGallery",children:t})}function b(e){var t=e.writeSrcState,a=e.onModal,n=e.imageGallery,c=function(e){t(e.target.dataset.src),a(!0)};return 0!==n.length&&n.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)("img",{className:"ImageGalleryItem-image",src:e.webformatURL,alt:e.tags,"data-src":e.largeImageURL,onClick:c})},e.id)}))}var h=a(20),d=a.n(h);var f=function(e,t){var a="".concat("https://pixabay.com/api","/?key=").concat("22631674-5d368c2f6a01c7affe232da9d","&q=").concat(e,"&page=").concat(t,"&image_type=photo&orientation=horizontal&safesearch=true&per_page=12");return d.a.get(a).then((function(e){return e}))};function g(e){var t=e.onSubmit,a=e.currentPage;return 0!==e.totalHits&&Object(l.jsx)("button",{className:"Button",type:"submit",onClick:function(e){e.preventDefault(),t({page:a+1,hits:0})},children:"Load more"})}function O(e){var t=e.modalSrc,a=e.onModal;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&a(!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return Object(l.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&a(!1)},children:Object(l.jsx)("div",{className:"Modal",children:Object(l.jsx)("img",{src:t,alt:"modal img"})})})}var p=a(21),S=a.n(p);function v(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(s.a)(r,2),h=o[0],d=o[1],p=Object(n.useState)([]),v=Object(s.a)(p,2),y=v[0],x=v[1],w=Object(n.useState)(0),N=Object(s.a)(w,2),F=N[0],k=N[1],L=Object(n.useState)(!1),C=Object(s.a)(L,2),E=C[0],P=C[1],I=Object(n.useState)(""),M=Object(s.a)(I,2),G=M[0],T=M[1],q=Object(n.useState)(!1),B=Object(s.a)(q,2),D=B[0],H=B[1];Object(n.useEffect)((function(){h&&(J(!0),f(h,a).then((function(e){k(e.data.hits.length),0===e.data.hits.length&&(u.Notify.info("Sorry, there are no images matching your search query. Please try again."),k(0)),x((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.data.hits))})),U()})).catch((function(e){u.Notify.info("Sorry, there are no images matching your search query. Please try again."),k(0)})).finally((function(){return J(!1)})))}),[h,a]);var J=function(e){return H(e)},R=function(e){e.image?(x([]),d(e.image),c(e.page)):c(e.page)},U=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},_=function(e){P(e)};return Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{onSubmitForm:R}),Object(l.jsx)(m,{children:Object(l.jsx)(b,{imageGallery:y,writeSrcState:function(e){T(e)},onModal:_})}),D&&Object(l.jsx)(S.a,{className:"Loader",type:"Puff",color:"#3f51b5",height:80,width:80,timeout:1e3}),Object(l.jsx)(g,{totalHits:F,onSubmit:R,currentPage:a}),E&&Object(l.jsx)(O,{modalSrc:G,showLoader:E,onModal:_})]})}var y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,71)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root")),y()}},[[70,1,2]]]);
//# sourceMappingURL=main.6779dd1b.chunk.js.map